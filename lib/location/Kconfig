#
# Copyright (c) 2021 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menuconfig LOCATION
	bool "Location"
	depends on NRF_MODEM_LIB
	help
	  TODO

if LOCATION

config LOCATION_METHOD_GNSS
	bool "Allow GNSS to be used for obtaining the location"
	default y

config LOCATION_METHOD_CELLULAR
	bool "Allow cellular positioning to be used for obtaining the location"
	select MULTICELL_LOCATION
	default y

config LOCATION_METHOD_WIFI
	bool "Allow WiFi positioning to be used for obtaining the location"
	depends on WIFI
	select SREST_CLIENT_LIB
	select CJSON_LIB
	select NET_MGMT
	select NET_MGMT_EVENT
	select NET_MGMT_EVENT_INFO
	default y if WIFI

if NRF_CLOUD_AGPS

config AGPS_LOCATION_SERVICE_NRF_CLOUD_JWT_STRING
	string "JWT set at compile time"

endif # NRF_CLOUD_AGPS

if NRF_CLOUD_PGPS

config AGPS_LOCATION_SERVICE_NRF_CLOUD_JWT_STRING
	string "JWT set at compile time"

endif # NRF_CLOUD_PGPS

if LOCATION_METHOD_WIFI

config LOCATION_METHOD_WIFI_SERVICE_NRF_CLOUD
	bool "nRF Cloud location service"
	default y
	depends on NRF_CLOUD
	help
	  Use nRF Cloud location service

config LOCATION_METHOD_WIFI_SERVICE_HERE
	bool "WiFi positioning using Here service"
	default y
	help
	  Use HERE location service

config LOCATION_METHOD_WIFI_SERVICE_SKYHOOK
	bool "WiFi positioning using Skyhook service"
	default y
	help
	  Use Skyhook location service

config LOCATION_METHOD_WIFI_SCANNING_RESULTS_MAX_CNT
	int "Max number of WiFi scanning results"
	default 10
	help
	  Maximum number of WiFi scanning results to use when creating HTTP request.
	  Increasing the max number will increase the library's RAM usage.

config LOCATION_METHOD_WIFI_REST_RECV_BUF_SIZE
	int "Receive buffer size"
	default 1024
	help
	  Size of the buffer used to store the response from the WiFi positioning
	  service.

if LOCATION_METHOD_WIFI_SERVICE_NRF_CLOUD
config LOCATION_METHOD_WIFI_SERVICE_NRF_CLOUD_HOSTNAME
	string "nRF Cloud REST API hostname"
	default NRF_CLOUD_REST_HOST_NAME
	help
	  Server hostname to use when connecting to the selected locations service.

config LOCATION_METHOD_WIFI_SERVICE_NRF_CLOUD_SEC_TAG
	int "Security tag for JWT signing"
	default NRF_CLOUD_SEC_TAG
	help
	  Modem security tag which contains the JWT signing key for nRF Cloud.

endif # LOCATION_METHOD_WIFI_SERVICE_NRF_CLOUD

if LOCATION_METHOD_WIFI_SERVICE_HERE

config LOCATION_METHOD_WIFI_SERVICE_HERE_HOSTNAME
	string "HERE server hostname"
	default "positioning.hereapi.com"
	help
	  Server hostname to use when connecting to the selected locations service

config LOCATION_METHOD_WIFI_SERVICE_HERE_API_KEY
	string "HERE API key"
	help
	  HERE API key used for authentication

config LOCATION_METHOD_WIFI_SERVICE_HERE_TLS_SEC_TAG
	int "Security tag for TLS certificates"
	default 175
	help
	  Security tag where the required TLS certificates for the selected
	  service will be stored. TODO: ??? This sec tag will also be used to provision
	  certificates when multicell_location_provision_certificate() is called.

endif # LOCATION_METHOD_WIFI_SERVICE_HERE

if LOCATION_METHOD_WIFI_SERVICE_SKYHOOK

config LOCATION_METHOD_WIFI_SERVICE_SKYHOOK_HOSTNAME
	string "Skyhook server hostname"
	default "global.skyhookwireless.com"
	help
	  Server hostname to use when connecting to the selected location service

config LOCATION_METHOD_WIFI_SERVICE_SKYHOOK_API_KEY
	string "SKyhook API key"
	help
	  SKyhook API key used for authentication

config LOCATION_METHOD_WIFI_SERVICE_SKYHOOK_TLS_SEC_TAG
	int "Security tag for TLS certificates"
	default 176
	help
	  Security tag where the required TLS certificates for the selected
	  service will be stored. TODO: ??? This sec tag will also be used to provision
	  certificates when multicell_location_provision_certificate() is called.

endif # LOCATION_METHOD_WIFI_SERVICE_SKYHOOK

endif # LOCATION_METHOD_WIFI

config LOCATION_DEVICE_ID
	string "Device ID set at compile time"
	default ""
	help
	  Set the device id that is used for JWT generation. This is needed if
	  other than UUID was used as a Device ID with cloud key registering
	  or provisioning.

module = LOCATION
module-str = Location
source "${ZEPHYR_BASE}/subsys/logging/Kconfig.template.log_config"

endif # LOCATION
